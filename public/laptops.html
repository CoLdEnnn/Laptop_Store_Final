<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Catalog</title>
  </head>
  <body>
    <h2>Laptops</h2>
    <div id="list">Loading...</div>

    <script>
      fetch("/api/laptops")
        .then((res) => res.json())
        .then((data) => {
          document.getElementById("list").innerHTML = data
            .map(
              (l) => `
              <div style="padding:8px;border:1px solid #ddd;margin:8px 0;">
                <b>${l.brand} ${l.model}</b> - $${l.price} | stock: ${l.stock}
                <a href="laptop.html?id=${l._id}">View</a>
              </div>`,
            )
            .join("");
        })
        .catch(
          () => (document.getElementById("list").innerText = "Error loading"),
        );
    </script>
  </body>
</html>
